const dekatreisCalendarData = {
  "id":"dekatreis",
  "name":"Dekatreis",
  "currentDate": {
    "year":900,
    "month":1,
    "day":1,
    "seconds":0
  },
  "general": {
    "gameWorldTimeIntegration":"mixed",
    "showClock":true,
    "noteDefaultVisibility":false,
    "postNoteRemindersOnFoundryLoad":true,
    "pf2eSync":true,
    "dateFormat": {
      "date":"MMMM DD, YYYY","time":"HH:mm:ss","monthYear":"MMMM YAYYYYYZ"}},
      "leapYear":{"id":"ca03a3e1","rule":"gregorian","customMod":0},
      "months": [
        {"id":"20bf161a","name":"Month of Order","description":"","abbreviation":"Order","numericRepresentation":1,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"f9f9eeec","name":"Month of Aura","description":"","abbreviation":"Aura","numericRepresentation":2,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"b9a48a1","name":"Month of Rebirth","description":"","abbreviation":"Rebirth","numericRepresentation":3,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"4ac95af4","name":"Month of Progress","description":"","abbreviation":"Progress","numericRepresentation":4,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"d1a070c1","name":"Month of Spite","description":"","abbreviation":"Spite","numericRepresentation":5,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"7ed67103","name":"Month of Creation","description":"","abbreviation":"Creation","numericRepresentation":6,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"d1f1507a","name":"Month of Protection","description":"","abbreviation":"Protection","numericRepresentation":7,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"6b6cf7d4","name":"Month of Plotting","description":"","abbreviation":"Plotting","numericRepresentation":8,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"efae3493","name":"Month of Inspiration","description":"","abbreviation":"Inspiration","numericRepresentation":9,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"53a1dc39","name":"Month of Storms","description":"","abbreviation":"Storms","numericRepresentation":10,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"973d559a","name":"Month of Betrayal","description":"","abbreviation":"Betrayal","numericRepresentation":11,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"4b21a125","name":"Month of Shadows","description":"","abbreviation":"Shadows","numericRepresentation":12,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null},
        {"id":"5f615b00","name":"Month of Fear","description":"","abbreviation":"Fear","numericRepresentation":13,"numericRepresentationOffset":0,"numberOfDays":30,"numberOfLeapYearDays":30,"intercalary":false,"intercalaryInclude":false,"startingWeekday":null}
      ],
      "moons": [
        {"id":"11bcf481","name":"Red Moon","cycleLength":29.53059,"firstNewMoon":{"yearReset":"none","yearX":0,"year":13,"month":12,"day":12},"phases":[{"name":"New Moon","length":1,"icon":"new","singleDay":true},{"name":"Waxing Crescent","length":6.38265,"icon":"waxing-crescent","singleDay":false},{"name":"First Quarter","length":1,"icon":"first-quarter","singleDay":true},{"name":"Waxing Gibbous","length":6.38265,"icon":"waxing-gibbous","singleDay":false},{"name":"Full Moon","length":1,"icon":"full","singleDay":true},{"name":"Waning Gibbous","length":6.38265,"icon":"waning-gibbous","singleDay":false},{"name":"Last Quarter","length":1,"icon":"last-quarter","singleDay":true},{"name":"Waning Crescent","length":6.38265,"icon":"waning-crescent","singleDay":false}],"color":"#c91d21","cycleDayAdjust":0},
        {"id":"f9c84e2f","name":"Blue Moon","cycleLength":29.53059,"firstNewMoon":{"yearReset":"none","yearX":0,"year":4,"month":3,"day":10},"phases":[{"name":"New Moon","length":1,"icon":"new","singleDay":true},{"name":"Waxing Crescent","length":6.38265,"icon":"waxing-crescent","singleDay":false},{"name":"First Quarter","length":1,"icon":"first-quarter","singleDay":true},{"name":"Waxing Gibbous","length":6.38265,"icon":"waxing-gibbous","singleDay":false},{"name":"Full Moon","length":1,"icon":"full","singleDay":true},{"name":"Waning Gibbous","length":6.38265,"icon":"waning-gibbous","singleDay":false},{"name":"Last Quarter","length":1,"icon":"last-quarter","singleDay":true},{"name":"Waning Crescent","length":6.38265,"icon":"waning-crescent","singleDay":false}],"color":"#0080ff","cycleDayAdjust":0},
        {"id":"f11aacd","name":"Silver Moon","cycleLength":30,"firstNewMoon":{"yearReset":"none","yearX":0,"year":0,"month":0,"day":0},"phases":[{"name":"New Moon","length":1,"icon":"new","singleDay":true},{"name":"Waxing Crescent","length":6.5,"icon":"waxing-crescent","singleDay":false},{"name":"First Quarter","length":1,"icon":"first-quarter","singleDay":true},{"name":"Waxing Gibbous","length":6.5,"icon":"waxing-gibbous","singleDay":false},{"name":"Full Moon","length":1,"icon":"full","singleDay":true},{"name":"Waning Gibbous","length":6.5,"icon":"waning-gibbous","singleDay":false},{"name":"Last Quarter","length":1,"icon":"last-quarter","singleDay":true},{"name":"Waning Crescent","length":6.5,"icon":"waning-crescent","singleDay":false}],"color":"#b8b8b8","cycleDayAdjust":0}
      ],
      "noteCategories": [
        {"name":"Holiday","textColor":"#FFFFFF","color":"#148e94"},
        {"name":"Celestial Events","textColor":"#FFFFFF","color":"#8150e7"}
      ],
      "seasons": [
        {"id":"2300a6c1","name":"Calm Winds","description":"","startingMonth":0,"startingDay":0,"color":"#ffffff","icon":"none","sunriseTime":0,"sunsetTime":45000},
        {"id":"b5c6d407","name":"Nurturing Rains","description":"","startingMonth":2,"startingDay":0,"color":"#ffffff","icon":"none","sunriseTime":0,"sunsetTime":45000},
        {"id":"4bdf8554","name":"Bitter Storms","description":"","startingMonth":4,"startingDay":0,"color":"#ffffff","icon":"none","sunriseTime":0,"sunsetTime":45000},
        {"id":"74032e38","name":"Dangerous Waves","description":"","startingMonth":7,"startingDay":0,"color":"#ffffff","icon":"none","sunriseTime":0,"sunsetTime":45000},
        {"id":"458cdfbf","name":"Shattering Storms","description":"","startingMonth":9,"startingDay":0,"color":"#ffffff","icon":"none","sunriseTime":0,"sunsetTime":45000},
        {"id":"dffd7af3","name":"Intense Chills","description":"","startingMonth":10,"startingDay":0,"color":"#ffffff","icon":"none","sunriseTime":0,"sunsetTime":45000}
      ],
      "time": {"id":"739b1f4c","hoursInDay":24,"minutesInHour":60,"secondsInMinute":60,"gameTimeRatio":1,"unifyGameAndClockPause":false,"updateFrequency":1},
      "weekdays": [
        {"abbreviation":"Mi","id":"d43ec43b","name":"Mia","description":"","numericRepresentation":1,"restday":false},
        {"abbreviation":"Dy","id":"cf014f56","name":"Dyo","description":"","numericRepresentation":2,"restday":false},
        {"abbreviation":"Tr","id":"b2236860","name":"Tria","description":"","numericRepresentation":3,"restday":false},
        {"abbreviation":"Te","id":"89e9d57a","name":"Tessera","description":"","numericRepresentation":4,"restday":false},
        {"abbreviation":"Pe","id":"f31cad84","name":"Pente","description":"","numericRepresentation":5,"restday":false},
        {"abbreviation":"Ex","id":"e9b0e254","name":"Exia","description":"","numericRepresentation":6,"restday":false},
        {"abbreviation":"Ep","id":"41eb643e","name":"Epta","description":"","numericRepresentation":7,"restday":false},
        {"abbreviation":"Ok","id":"83793a6e","name":"Okto","description":"","numericRepresentation":8,"restday":false},
        {"abbreviation":"En","id":"42b0464c","name":"Ennea","description":"","numericRepresentation":9,"restday":false},
        {"abbreviation":"De","id":"fada2249","name":"Deca","description":"","numericRepresentation":10,"restday":false}
      ],
      "year": {"id":"439501b9","numericRepresentation":900,"prefix":"","postfix":"QY","showWeekdayHeadings":true,"firstWeekday":6,"yearZero":2700,"yearNames":[],"yearNamingRule":"default","yearNamesStart":0}
    }

Hooks.once("init", async function() {
  Hooks.on("ready", () => {
    Hooks.on(SimpleCalendar.Hooks.Ready, async () => {
      const currentCalendar = SimpleCalendar.api.getCurrentCalendar();

      if(SimpleCalendar.api.isPrimaryGM() && currentCalendar.id !== "dekatreis"){
        // Set the calendar configuration to a custom calendar if dekatreis isn't already the current calendar
        const custom = {};

        const result = await SimpleCalendar.api.configureCalendar(dekatreisCalendarData);
      }
    })

    if(game.modules.get('smalltime').dateAvailable && !game.settings.get("smalltime", "sun-sync")) {
      // Ensure that SmallTime syncs up with the Dekatreis calendar
      game.settings.set("smalltime", "sun-sync", true)
    }
  })
})

Hooks.on("renderPause", (app, html, options) => {
  if (options.paused) {
    // Set up a custom pause icon
    html.find("img")[0].src = "/modules/dekatreis/assets/images/pause.webp"
  }
});